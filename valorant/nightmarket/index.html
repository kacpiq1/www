<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Night.Market</title>
    <style>
        @font-face {
            font-family: 'DINNextW1G-Regular';
            src: url('nightmarket/fonts/DINNextW1G-Regular.otf') format('truetype');
        }

@font-face {
            font-family: 'Tungsten-Bold';
            src: url('nightmarket/fonts/Tungsten-Bold.ttf') format('truetype');
        }
        body {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            background: url('nightmarket/images/background.jpg') no-repeat center center fixed;
            background-size: cover;
            font-family: 'DINNextW1G-Regular', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            height: 100vh;
            color: #ffffff;
        }

        .night-market {
            text-align: center;
            background: rgba(0, 0, 0, 0.7);
            padding: 20px;
            border-radius: 10px;
            width: 90%;
            max-width: 1920px;
            margin: 20px;
        }

        h1 {
font-family: 'Tungsten-Bold', sans-serif;
            margin-bottom: 20px;
            font-size: 5em;
        }

        #market-status {
            margin-bottom: 20px;
            font-size: 1.2em;
        }

        .cards-container {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .card {
            width: 175px;
            height: 300px;
            border-radius: 10px;
            position: relative;
            cursor: pointer;
            transition: transform 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 10px;
            text-align: center;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            border: 3px solid transparent; /* Kontur karty, początkowo przezroczysty */
            background-color: darkgray; /* Initial cover color */
        }

        @keyframes shrinkAndDisappear {
    0% {
        transform: translate(-50%, -50%) scale(1) rotate(45deg);
    }
    50% {
        transform: translate(-50%, -50%) scale(0) rotate(45deg);
        opacity: 1;
    }
    100% {
        opacity: 0;
    }
}

.card::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    width: 60px; /* Rozmiar rombu */
    height: 60px; /* Rozmiar rombu */
    border: 2px solid currentColor; /* Kolor rombu zależny od rzadkości */
    transform: translate(-50%, -50%) rotate(45deg);
    z-index: 2; /* Zwiększamy z-index aby tło nie przesłaniało diamentu */
}

.card::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #12212f; /* Szare tło */
    z-index: 1; /* Dodane aby tło zasłaniało zawartość, ale nie diament */
    opacity: 1;
    transition: background-color 0.5s ease 1.5s, opacity 1.5s ease 2s; /* Dodane przejście z opóźnieniem */
}

.card.revealed::before {
    animation: shrinkAndDisappear 3s forwards; /* Animacja diamentu trwająca 3 sekundy */
}

.card.revealed::after {
    background-color: white; /* Zmiana koloru na biały */
    opacity: 0; /* Przezroczystość */
}

.card .content {
    opacity: 0;
    transition: opacity 0.5s ease 3s; /* Dodajemy opóźnienie, aby pojawiła się po animacji */
}

.card.revealed .content {
    opacity: 1; /* Pokaż zawartość po animacji */
}
        .card img {
            max-width: 100%;
            border-radius: 5px;
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(45deg);
            z-index: 2;
        }

        .card:hover {
            transform: scale(1.05);
        }

        .card.revealed {
            background-color: transparent;
        }

        .card.revealed img,
        .card.revealed .info,
        .card.revealed .discount,
        .card.revealed .original-price,
        .card.revealed .discounted-price,
        .card.revealed .skin-name,
        .card.revealed .rarity-icon {
            display: block;
        }

        .skin-name {
            position: absolute;
            bottom: 10px;
            left: 10px;
            font-size: 1em;
            color: #ffffff; /* Kolor tekstu */
            z-index: 2;
        }

        .rarity-icon {
            position: absolute;
            bottom: 10px;
            right: 10px;
            font-size: 1.2em;
            color: #ffffff; /* Kolor ikonki */
            z-index: 2;
        }

        .discount {
            position: absolute;
            top: 10px;
            left: 10px;
            color: #ff6161;
            background: rgba(0, 0, 0, 0.7);
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.9em;
        }

        .original-price {
            position: absolute;
            top: 10px;
            right: 10px;
            color: #ff6161;
            text-decoration: line-through;
            font-size: 0.9em;
        }

        .discounted-price {
    position: absolute;
    top: 30px;
    right: 10px;
    color: white;
    font-size: 1em;
    display: flex;
    align-items: center;
    justify-content: flex-start; /* Align items to start (left) */
}

.discounted-price img {
    width: 1em;
    height: 1em;
    margin-right: 0.3em; /* Space between icon and text */
    transform: rotate(0deg); /* Ensure icon is not rotated */
}

        .card.select {
    background-color: #222222; /* Kontur karty */
    border-color: #5a9fe2; /* Kontur rombu */
}

.card.deluxe {
    background-color: #222222; /* Kontur karty */
    border-color: #009587; /* Kontur rombu */
}

.card.premium {
    background-color: #222222; /* Kontur karty */
    border-color: #d1548d; /* Kontur rombu */
}

.card.exclusive {
    background-color: #222222; /* Kontur karty */
    border-color: #f1b82d; /* Kontur rombu */
}

.card.ultra {
    background-color: #222222; /* Kontur karty */
    border-color: #f1b82d; /* Kontur rombu */
}

        /* Media queries for mobile */
        @media (max-width: 768px) {
            .card {
                width: 150px;
                height: 250px;
                padding: 5px;
            }

            .original-price {
                font-size: 0.8em;
            }

            .discounted-price {
                font-size: 0.9em;
                top: 25px;
            }

            .discount {
                font-size: 0.8em;
            }
        }

        

        .rarity-icon img {
    width: 30px;
    height: 30px;
}




    </style>
</head>
<body>
    <div class="night-market">
        <h1>NIGHT.MARKET</h1>
        <p id="market-status"><strong></strong></p>
        <div class="cards-container" id="cards-container"></div>
    </div>
    <script>
        const skins = [
    { name: "Reaver Knife", rarity: "Exclusive", price: 3550, image: "nightmarket/images/reaver-knife.png" },
    { name: "Magepunk Guardian", rarity: "Premium", price: 1775, image: "magepunk_guardian.jpg" },
    { name: "Ion Operator", rarity: "Premium", price: 1775, image: "ion_operator.jpg" },
    { name: "Minima Sheriff", rarity: "Deluxe", price: 1275, image: "minima_sheriff.jpg" },
    { name: "Rush Judge", rarity: "Select", price: 875, image: "oni_shorty.jpg" },
    { name: "Ego Vandal", rarity: "Premium", price: 1775, image: "ego_vandal.jpg" },
    { name: "Gaia’s Vengeance Ghost", rarity: "Premium", price: 1775, image: "nightmarket/images/Gaia's_Vengeance_Ghost.png" },
    { name: "Gaia's Vengeance Guardian", rarity: "Premium", price: 1775, image: "nightmarket/images/Gaia's_Vengeance_Guardian.png" },
    { name: "Gaia's Vengeance Vandal", rarity: "Premium", price: 1775, image: "nightmarket/images/Gaia's_Vengeance_Vandal.png" },
    { name: "Gaia's Vengeance Marshal", rarity: "Premium", price: 1775, image: "nightmarket/images/Gaia's_Vengeance_Marshal.png" },
    { name: "Gaia's Wrath", rarity: "Exclusive", price: 3550, image: "nightmarket/images/Gaia's_Wrath.png" },
    { name: "Gaia's Vengeance Bucky", rarity: "Premium", price: 1775, image: "nightmarket/images/Gaia's_Vengeance_Bucky.png" },
    { name: "Gaia's Vengeance Ares", rarity: "Premium", price: 1775, image: "nightmarket/images/Gaia's_Vengeance_Ares.png" },
    { name: "Gaia's Fury", rarity: "Exclusive", price: 3550, image: "nightmarket/images/Gaia's_Fury.png" },
        { name: "Luxe Ghost", rarity: "Select", price: 1775, image: "nightmarket/images/Luxe_Ghost.png" },
            { name: "Luxe Judge", rarity: "Select", price: 875, image: "nightmarket/images/Luxe_Judge.png" },
            { name: "Luxe Operator", rarity: "Select", price: 875, image: "nightmarket/images/Luxe_Operator.png" },
            { name: "Luxe Spectre", rarity: "Select", price: 875, image: "nightmarket/images/Luxe_Spectre.png" },
            { name: "Luxe Vandal", rarity: "Select", price: 875, image: "nightmarket/images/Luxe_Vandal.png" },
            { name: "Luxe Knife", rarity: "Exclusive", price: 1750, image: "nightmarket/images/Luxe_Knife.png" },
        { name: "Aristocrat Ares", rarity: "Deluxe", price: 1275, image: "nightmarket/images/Aristocrat_Ares.png" },
            { name: "Aristocrat Bulldog", rarity: "Deluxe", price: 1275, image: "nightmarket/images/Aristocrat_Bulldog.png" },
            { name: "Aristocrat Sheriff", rarity: "Deluxe", price: 1275, image: "nightmarket/images/Aristocrat_Sheriff.png" },
            { name: "Aristocrat Stinger", rarity: "Deluxe", price: 1275, image: "nightmarket/images/Aristocrat_Stinger.png" },
            { name: "Aristocrat Vandal", rarity: "Deluxe", price: 1275, image: "nightmarket/images/Aristocrat_Vandal.png" },
];

const discounts = [10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49];

function getRandomElement(arr) {
    return arr[Math.floor(Math.random() * arr.length)];
}

function calculateDiscountPrice(price, discount) {
    return Math.floor(price * ((100 - discount) / 100));
}

function updateMarketStatus() {
    const marketStatusElement = document.getElementById("market-status");
    const now = new Date();
    const marketStart = new Date(now.getFullYear(), now.getMonth(), now.getDate() - now.getDay() + 5); // Najbliższy czwartek
    const marketEnd = new Date(marketStart);
    marketEnd.setDate(marketEnd.getDate() + 14);

    if (now < marketStart) {
        const daysUntilStart = Math.ceil((marketStart - now) / (1000 * 60 * 60 * 24));
        marketStatusElement.textContent = `STARTS IN ${daysUntilStart} DAYS`;
    } else if (now >= marketStart && now <= marketEnd) {
        const daysUntilEnd = Math.ceil((marketEnd - now) / (1000 * 60 * 60 * 24));
        marketStatusElement.textContent = `ENDS IN ${daysUntilEnd} DAYS`;
    } else {
        const daysUntilNextStart = Math.ceil((marketStart.setDate(marketStart.getDate() + 7) - now) / (1000 * 60 * 60 * 24));
        marketStatusElement.textContent = `STARTS IN ${daysUntilNextStart} DAYS`;
    }
}

const rarityImages = {
    Select: 'nightmarket/images/select.png',
    Deluxe: 'nightmarket/images/deluxe.png',
    Premium: 'nightmarket/images/premium.png',
    Exclusive: 'nightmarket/images/exclusive.png',
    Ultra: 'nightmarket/images/ultra.png'
};

function getRandomSkins(skins, count) {
    const shuffled = skins.sort(() => 0.5 - Math.random()); // Tasujemy tablicę
    return shuffled.slice(0, count); // Zwracamy pierwsze 'count' elementów
}

function createCard(skin) {
    const card = document.createElement("div");
    card.classList.add("card", skin.rarity.toLowerCase());

    const discount = getRandomElement(discounts);
    const discountedPrice = calculateDiscountPrice(skin.price, discount);

    card.innerHTML = `
        <div class="discount content">-${discount}%</div>
        <div class="original-price content">${skin.price}</div>
        <div class="discounted-price content"><img src="nightmarket/images/Valorant_Points.png" alt="VP icon">${discountedPrice}</div>
        <div class="skin-details content">
            <img src="${skin.image}" alt="${skin.name}">
            <div class="rarity-icon content"><img src="${rarityImages[skin.rarity]}" alt="${skin.rarity} icon"></div>
            <div class="skin-name">${skin.name}</div>
        </div>
        <div class="diamond-animation"></div> <!-- Existing diamond -->
    `;

    card.addEventListener("click", () => {
        const diamondAnimation = card.querySelector('.diamond-animation');
        diamondAnimation.style.animation = "shrinkAndDisappear 6s forwards";
        setTimeout(() => {
            card.classList.add("revealed");
        }, 500); // Reveal the card after 6 seconds
    });

    return card;
}

function populateMarket() {
    const cardsContainer = document.getElementById("cards-container");
    const randomSkins = getRandomSkins(skins, 6); // Wybieramy 6 losowych skórek
    randomSkins.forEach(skin => {
        const card = createCard(skin);
        cardsContainer.appendChild(card);
    });
}

updateMarketStatus();
populateMarket();
    </script>
</body>
</html>
