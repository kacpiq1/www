<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Losowanie egzaminu INF.02</title>
    <link rel="stylesheet" href="egzamin/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <script src="egzamin/script.js" defer></script>
</head>
<body>
     <div class="nav-panel">
        <a href="https://www.kacpiq.pl/egzamin/lista-egzaminow" target="_blank">Lista egzaminów</a>
        
        <div class="dropdown">
            <a href="#" class="dropbtn">
                <i class="fas fa-arrow-down"></i>Pobierz
            </a>
            <div class="dropdown-content">

                <a href="#" id="download-windows">
                    <i class="fab fa-windows"></i>Pobierz na Windows
                    <div class="version-info">Wersja: N/A</div>
                    <div class="supported-systems">
                        Obsługiwane systemy: <span>Windows 10</span><span>Windows 11</span>
                    </div>
                    <div class="unavailable-info">Aplikacja jeszcze nie jest dostępna</div>
                </a>
                
                <a href="#" id="download-linux">
                    <i class="fab fa-linux"></i>Pobierz na Linux
                    <div class="version-info">Wersja: N/A</div>
                    <div class="supported-systems">
                        Obsługiwane systemy: <span>Ubuntu</span><span>Debian</span><span>Fedora</span>
                    </div>
                    <div class="unavailable-info">Aplikacja jeszcze nie jest dostępna</div>
                </a>
                
                <a href="#" id="download-macos">
                    <i class="fab fa-apple"></i>Pobierz na MacOS
                    <div class="version-info">Wersja: N/A</div>
                    <div class="supported-systems">
                        Obsługiwane systemy: <span>MacOS Big Sur</span><span>MacOS Monterey</span>
                    </div>
                    <div class="unavailable-info">Aplikacja jeszcze nie jest dostępna</div>
                </a>
            </div>
        </div>

        <div id="przerwa-komunikat" class="przerwa-komunikat" style="display:none;">
            <p>Przerwa techniczna rozpocznie się 28.03.2025 o 18:30 i potrwa do 31.03.2025 14:30.<br> W tym czasie korzystanie ze strony i losowanie egzaminów będzie niedostępne.</p>
        </div>
    </div>
    
    <div class="container">
        <h1 style:font-family: 'Reload';>Losowanie egzaminu INF.02</h1>

        <label>Podstawa programowa:</label>
        <select id="podstawa">
            <option value="">Wszystkie</option>
            <option value="2019">2019</option>
            <option value="2017">2017</option>
        </select>

        <label>System operacyjny serwera:</label>
        <select id="serwer">
            <option value="">Dowolny</option>
            <option value="Linux">Linux</option>
            <option value="Windows Server">Windows Server</option>
        </select>

        <label>System operacyjny klienta:</label>
        <select id="klient">
            <option value="">Dowolny</option>
            <option value="Windows">Windows</option>
            <option value="Linux">Linux</option>
        </select>

        <button id="losuj">Losuj egzamin</button>

        <div id="loading" style="display: none;">Ładowanie egzaminów...</div>

        <iframe id="examFrame" style="display: none;" width="100%" height="600px"></iframe>

        <button id="zakoncz" style="display: none;">Zakończ egzamin</button>
        <iframe id="keyFrame" style="display: none;" width="100%" height="300px"></iframe>
    </div>
    <div class="popup" id="popup" onmouseover="expandPopup()" onmouseout="collapsePopup()" onclick="redirectToRevolut()">
        <img src="https://cdn.brandfetch.io/idkTaHd18D/w/400/h/400/theme/dark/icon.png?c=1dxbfHSJFAPEGdCLU4o5B" alt="R">
        <div class="popup-text" id="popupText">
            <div id="popupMessage">@kacpiq</div>
        </div>
    </div>
    <script>
        const messages = [
            "@kacpiq"
        ];
        let index = 0;
        let messageTimeout;
    
        function changeMessage() {
            const messageDiv = document.getElementById("popupMessage");
            messageDiv.style.opacity = 0;
    
            clearTimeout(messageTimeout);
    
            setTimeout(() => {
                if (index < messages.length) {
                    messageDiv.innerText = messages[index];
                    messageDiv.style.opacity = 1;
                    index++;
                } else {
                    messageDiv.innerText = '';
                }
            }, 500);
        }
    
        function expandPopup() {
            const popup = document.getElementById("popup");
            const popupText = document.getElementById("popupText");
    
            popup.classList.add("expanded");
            popupText.classList.add("visible");
    
            messageTimeout = setInterval(changeMessage, 3000);
        }
    
        function collapsePopup() {
            const popup = document.getElementById("popup");
            const popupText = document.getElementById("popupText");
    
            popup.classList.remove("expanded");
            popupText.classList.remove("visible");
    
            clearInterval(messageTimeout);
        }
    
        function redirectToRevolut() {
            window.open("https://revolut.me/kacpiq", "_blank");
        }

         function disableScript() {
            const script = document.getElementById("script");
            script.setAttribute("disabled", "true");
        }

        function checkTechnicalBreak() {
            const startDate = new Date('2025-03-28T18:30:00');
            const endDate = new Date('2025-03-31T14:30:00');
            const currentDate = new Date();

            if (currentDate >= startDate && currentDate <= endDate) {
                document.getElementById("przerwa-komunikat").style.display = 'block';

                document.getElementById("losuj").disabled = true;

                disableScript();
            }
        }


        window.onload = checkTechnicalBreak;
    </script>
</body>
</html>
